{% assign pages = site.pages['/'].pages_in_list | order_by: '-created_at' %}

<!-- Hero -->
<div class="relative mx-auto max-w-screen-2xl">
  <div aria-hidden="true" class="absolute inset-0 h-max w-full m-auto grid grid-cols-2 -space-x-52 opacity-40 dark:opacity-20">
    <div class="blur-[106px] h-56 bg-gradient-to-br from-primary to-secondary dark:from-blue-600"></div>
    <div class="blur-[106px] h-32 bg-gradient-to-r from-secondary to-primary via-sky-300 dark:to-indigo-600"></div>
  </div>
  <section id="hero" class="mx-auto max-w-screen-lg px-3 py-6">
    <div class="flex flex-col items-center md:flex-row md:justify-between md:gap-x-24">
      <div>
        <h1 class="text-3xl font-bold">{{ page.settings.title }}</h1>
        <p class="mt-6 text-xl leading-9">
          {{ page.settings.description }}
        </p>
        <div class="mt-3 flex gap-1">
          <a href="#">
            <img class="h-12 w-12 hover:translate-y-1" src="{{ 'images/twitter-icon.png' | asset_url}}" alt="Twitter icon" loading="lazy">
          </a>
          <a href="#">
            <img class="h-12 w-12 hover:translate-y-1" src="{{ 'images/facebook-icon.png' | asset_url}}" alt="Facebook icon" loading="lazy">
          </a>
          <a href="#">
            <img class="h-12 w-12 hover:translate-y-1" src="{{ 'images/linkedin-icon.png' | asset_url}}" alt="Linkedin icon" loading="lazy">
          </a>
          <a href="#">
            <img class="h-12 w-12 hover:translate-y-1" src="{{ 'images/youtube-icon.png' | asset_url}}" alt="Youtube icon" loading="lazy">
          </a>
        </div>
      </div>
      <div class="shrink-0">
        {% assign avatar = 'images/avatar.svg' | asset_url %}
        <img class="h-80 w-64" src="{{ page.settings.avatar | default: avatar }}" alt="Avatar image" loading="lazy"></div>
    </div>
  </section>
</div>

{% render 'projects', pages: pages %}
{% render 'posts', pages: pages %}
{% render 'search_form' %}
{%# render 'feedback_form', page: page %}

{% if site.settings.is_open_intro_guide and page.path == '/' %}
  <!-- Start Intro.js -->
  <script>
    introJs().setOptions({
      showProgress: true,
      dontShowAgain: true,
      steps: [{
        title: 'Personal Blog Deme 站点',
        intro: '通过本指引，你可以快速了解页面模板的结构，并对应修改后端配置 👋'
      },
      {
        title: 'snippets/_header.liquid',
        element: document.querySelector('#header'),
        intro: '页头部分可配置：<ol><li>1. 站点图标</li><li> 2.站点名称</li><li>3. 自定义导航菜单</li></ol>'
      },
      {
        title: 'templates/index.liquid',
        element: document.querySelector('#hero'),
        intro: '首页Hero部分在【首页】->【内容编辑】中设置属性：<ol><li>1）首页头像</li><li>2）站点口号</li><li>3）站点介绍</li></ol>'
      },
      {
        title: 'snippets/_projects.liquid',
        element: document.querySelector('#projects'),
        intro: '页面列表：在【页面管理】中设置的页面类型为【项目案例】的内容将展示在这里。'
      },
      {
        title: 'snippets/_posts.liquid',
        element: document.querySelector('#posts'),
        intro: '页面列表：在【页面管理】中设置的页面类型为【博客文章】的内容将展示在这里。'
      },
      {
        title: 'snippets/_search_form.liquid',
        element: document.querySelector('#search_from'),
        intro: '设置全文搜索框',
        position: 'top'
      },
      {
        element: document.querySelector('#footer'),
        intro: '设置页脚部分',
        position: 'top'
      },
      {
        intro: '🎉🎉🎉 恭喜你！<p>一个简单的个人站点Demo就呈现在你面前了，而创建这个站点只需要 3 分钟时间。</p><p>想要了解更多，请参考<a href="/s/get-started" style="color:blue;font-size:600;">教程</a>。</p>'
      }]
    }).start();
  </script>
  <!-- End Intro.js -->
{% endif %}

{% schema %}
  {
    "name": "首页",
    "thumb_url": "images/theme/index.png",
    "preview_image_urls": [
      "images/theme/index.png"
    ],
    "description": "Index",
    "sub_page_templates": [
      "page"
    ],
    "settings": [
      {
        "id": "avatar",
        "type": "image_picker",
        "ratio": "9:16",
        "width": 600,
        "label": "首页头像",
        "info": "显示在首页顶部"
      },
      {
        "id": "title",
        "type": "html",
        "label": "站点口号",
        "info": "一句话介绍",
        "default": "Hi there, I'm<span class='bg-gradient-to-br from-accent to-primary bg-clip-text text-transparent'> Baklib</span> 👋"
      },
      {
        "id": "description",
        "type": "html",
        "label": "站点介绍",
        "info": "显示在首页顶部，一般控制着 3 行。",
        "default": "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Phasellus<!-- --> <a class='hover:underline' href='https://creativedesignsguru.com/demo/astro-boilerplate'>malesuada</a> <!-- -->nisi tellus, non imperdiet nisi tempor at. Lorem ipsum dolor sit amet,<!-- --> <a class='hover:underline' href='https://creativedesignsguru.com/demo/astro-boilerplate'>consectetur</a> <!-- -->adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore."
      }
    ]
  }
{% endschema %}
