{% assign pages = page.pages_in_list %}

<main class="grow">
  <div class="px-4 sm:px-6 lg:px-8 py-8 w-full max-w-9xl mx-auto">

      <div class="max-w-3xl m-auto">

          <!-- Page title -->
          <div class="mb-5">
              <h1 class="text-2xl md:text-4xl text-gray-800 dark:text-gray-100 font-bold">👋 {{ page.link_text }}</h1>
              <p class="text-sm text-gray-600 mt-2">{{ page.settings.description }}</p>
          </div>

          <!-- Search form -->
          <div class="mb-6">
              <form class="relative">
                  <label for="action-search" class="sr-only">Search</label>
                  <input id="action-search" class="form-input pl-9 py-3 dark:bg-gray-800 focus:border-gray-300 w-full" type="search">
                  <button class="absolute inset-0 right-auto group" type="submit" aria-label="Search">
                      <svg class="shrink-0 fill-current text-gray-400 dark:text-gray-500 group-hover:text-gray-500 dark:group-hover:text-gray-400 ml-3 mr-2" width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
                          <path d="M7 14c-3.86 0-7-3.14-7-7s3.14-7 7-7 7 3.14 7 7-3.14 7-7 7zM7 2C4.243 2 2 4.243 2 7s2.243 5 5 5 5-2.243 5-5-2.243-5-5-5z"></path>
                          <path d="M15.707 14.293L13.314 11.9a8.019 8.019 0 01-1.414 1.414l2.393 2.393a.997.997 0 001.414 0 .999.999 0 000-1.414z"></path>
                      </svg>
                  </button>
              </form>
          </div>

          <!-- Filters -->
          <div class="mb-8 border-b border-gray-200 dark:border-gray-700/60">
              <ul class="text-sm font-medium flex flex-nowrap -mx-4 sm:-mx-6 lg:-mx-8 overflow-x-scroll no-scrollbar">
                  <li class="pb-3 mr-6 last:mr-0 first:pl-4 sm:first:pl-6 lg:first:pl-8 last:pr-4 sm:last:pr-6 lg:last:pr-8">
                      <a class="text-violet-500 whitespace-nowrap" href="#0">All</a>
                  </li>
                  {% for tag in page.settings.tags %}
                    <li class="pb-3 mr-6 last:mr-0 first:pl-4 sm:first:pl-6 lg:first:pl-8 last:pr-4 sm:last:pr-6 lg:last:pr-8">
                        <a class="text-gray-500 dark:text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 whitespace-nowrap" href="{{ page.path |  append: '?tag=' |  append: tag.name }}">{{ tag.name }}</a>
                    </li>
                  {% endfor %}

              </ul>
          </div>

          <!-- Posts -->
          <div>
              {% paginate_tag pages, per: 9 %}
                {% for item in pages %}
                    <!-- Post -->
                    <article class="py-4 border-b border-gray-200 dark:border-gray-700/60">
                        <header class="flex items-start mb-2">
                            <div class="mt-2 mr-3">
                                <svg class="shrink-0 fill-current" width="16" height="16" viewBox="0 0 16 16">
                                    <path class="text-violet-300" d="M4 8H0v4.9c0 1 .7 1.9 1.7 2.1 1.2.2 2.3-.8 2.3-2V8z"></path>
                                    <path class="text-violet-500" d="M15 1H7c-.6 0-1 .4-1 1v11c0 .7-.2 1.4-.6 2H13c1.7 0 3-1.3 3-3V2c0-.6-.4-1-1-1z"></path>
                                </svg>
                            </div>
                            <h3 class="text-xl leading-snug text-gray-800 dark:text-gray-100 font-bold">{{ item.link_text }}</h3>
                        </header>
                        <div class="pl-7">
                            <div class="mb-2">{{ item.settings.content }}</div>
                            <ul class="flex flex-wrap">
                                {% for tag in item.settings.tags %}
                                    <li class="flex items-center after:block after:content-['·'] last:after:content-[''] after:text-sm after:text-gray-400 dark:after:text-gray-600 after:px-2">
                                        <a class="text-sm font-medium text-violet-500 hover:text-violet-600 dark:hover:text-violet-400" href="{{ page.path |  append: '?tag=' |  append: tag.name }}">{{ tag.name }}</a>
                                    </li>
                                {% endfor %}
                            </ul>
                        </div>
                    </article>
                {% endfor %}

                <!-- Pagination -->
                <div class="mt-6">
                  <div class="flex justify-end">
                    {% render 'paginate', paginate: paginate %}
                  </div>
              </div>
            {% endpaginate_tag %}

          </div>

      </div>

  </div>
</main>

{% schema %}
    {
      "name": "FAQs",
      "description": "通知/公告/FAQ 页面列表",
      "thumb_url": "images/theme/faqs.png",
      "sub_page_templates": ["page"],
      "settings": [
        {
          "id": "tags",
          "type": "tag_picker",
          "multiple": true,
          "label": "标签"
        },
        {
          "id": "description",
          "type": "textarea",
          "label": "描述"
        },
        {
          "id": "icon",
          "type": "image_picker",
          "ratio": "1:1",
          "width": 100,
          "label": "图标"
        }
      ]
    }
  {% endschema %}
