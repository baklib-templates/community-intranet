<!-- cruip-mosaic-html/meetups.html -->
{% assign channels = site.pages['/products'].children_in_list %}

{% assign pages = page.pages_in_list | order_by: '-published_at' %}
{% assign pages_count  = pages | size %}
{% assign default_thumb = 'images/product-thumb.jpg' | asset_url %}

{% if pages_count < 1 %}
    {% render 'demo_products' %}
{% else %}
    <main class="grow">
        <div class="px-4 sm:px-6 lg:px-8 py-8 w-full max-w-9xl mx-auto">

            <!-- Page title -->
            <div class="mb-5">
                <h1 class="flex items-center text-2xl md:text-4xl text-gray-800 font-bold">
                    <img src="{{ page.settings.icon | default: '👏'}}" class="w-10 h-10 mr-2"/>
                    {{ page.link_text }}</h1>
                <p class="text-sm text-gray-600 mt-2">{{ page.settings.description }}</p>
            </div>

            <!-- Page content -->
            <div class="flex flex-col space-y-10 sm:flex-row sm:space-x-6 sm:space-y-0 md:flex-col md:space-x-0 md:space-y-10 xl:flex-row xl:space-x-6 xl:space-y-0 mt-9">

                <!-- Sidebar -->
                <div>
                    <div class="bg-white dark:bg-gray-800 shadow-sm rounded-xl p-5 min-w-60">
                        <div class="grid md:grid-cols-2 xl:grid-cols-1 gap-6">
                            <!-- Group 1 -->
                            <div>
                                <div class="text-base text-gray-600 dark:text-gray-100 font-bold mb-3 border-b">栏目导航</div>
                                <ul class="text-sm font-medium space-y-2">
                                    <li>
                                        <a class="text-gray-600 dark:text-gray-300 hover:text-gray-700 dark:hover:text-gray-200"
                                            href="{{ page.path }}">{{ page.link_text }}</a>
                                    </li>
                                    {% for channel in channels %}
                                        <li>
                                            <a class="text-gray-600 dark:text-gray-300 hover:text-gray-700 dark:hover:text-gray-200"
                                                href="{{ channel.path }}">{{ channel.link_text }}</a>
                                        </li>
                                    {% endfor %}
                                </ul>
                            </div>
                            <!-- Group 2 -->
                            <!-- Group 3 -->
                        </div>
                    </div>
                </div>

                <!-- Content -->
                <div>

                    <!-- Filters -->
                    <div class="mb-5">
                        <ul class="flex flex-wrap -m-1">
                            <li class="m-1">
                                <button
                                    class="inline-flex items-center justify-center text-sm font-medium leading-5 rounded-full px-3 py-1 border border-transparent shadow-sm bg-gray-900 dark:bg-gray-100 text-white dark:text-gray-800 transition">View
                                    全部</button>
                            </li>
                            {% for tag in page.settings.tags %}
                                <li class="m-1">
                                    <button
                                        class="inline-flex items-center justify-center text-sm font-medium leading-5 rounded-full px-3 py-1 border border-gray-200 dark:border-gray-700/60 hover:border-gray-300 dark:hover:border-gray-600 shadow-sm bg-white dark:bg-gray-800 text-gray-500 dark:text-gray-400 transition">{{ tag.name }}</button>
                                </li>
                            {% endfor %}
                        </ul>
                    </div>
                    {% paginate_tag pages, per: 24 %}
                    <!-- Cards 1 (Video Courses) -->
                    <div>
                        <div class="grid grid-cols-12 gap-6">
                            {% for item in pages %}
                                <!-- Card 1 -->
                                <div
                                    class="col-span-full md:col-span-6 xl:col-span-4 bg-white dark:bg-gray-800 shadow-sm rounded-xl overflow-hidden">
                                    <div class="flex flex-col h-full">
                                        <!-- Image -->
                                        <div class="relative">
                                            <img class="w-full" src="{{ item.settings.thumb_url | default: default_thumb }}" width="301"
                                                height="226" alt="{{ item.link_text }}">
                                            <!-- Like button -->
                                            <button class="absolute top-0 right-0 mt-4 mr-4">
                                                <div class="text-gray-100 bg-gray-900 bg-opacity-60 rounded-full">
                                                    <span class="sr-only">Like</span>
                                                    <svg class="h-8 w-8 fill-current" viewBox="0 0 32 32">
                                                        <path
                                                            d="M22.682 11.318A4.485 4.485 0 0019.5 10a4.377 4.377 0 00-3.5 1.707A4.383 4.383 0 0012.5 10a4.5 4.5 0 00-3.182 7.682L16 24l6.682-6.318a4.5 4.5 0 000-6.364zm-1.4 4.933L16 21.247l-5.285-5A2.5 2.5 0 0112.5 12c1.437 0 2.312.681 3.5 2.625C17.187 12.681 18.062 12 19.5 12a2.5 2.5 0 011.785 4.251h-.003z">
                                                        </path>
                                                    </svg>
                                                </div>
                                            </button>
                                            <!-- Special Offer label -->
                                            <div class="absolute bottom-0 right-0 mb-4 mr-4">
                                                <div
                                                    class="inline-flex items-center text-xs font-medium text-gray-100 dark:text-gray-300 bg-gray-900/60 dark:bg-gray-800/60 rounded-full text-center px-2 py-0.5">
                                                    <svg class="w-3 h-3 shrink-0 fill-current text-yellow-500 mr-1"
                                                        viewBox="0 0 12 12">
                                                        <path
                                                            d="M11.953 4.29a.5.5 0 00-.454-.292H6.14L6.984.62A.5.5 0 006.12.173l-6 7a.5.5 0 00.379.825h5.359l-.844 3.38a.5.5 0 00.864.445l6-7a.5.5 0 00.075-.534z">
                                                        </path>
                                                    </svg>
                                                    <span>{{ item.settings.type.label }}</span>
                                                </div>
                                            </div>
                                        </div>
                                        <!-- Card Content -->
                                        <div class="grow flex flex-col p-5">
                                            <!-- Card body -->
                                            <div class="grow">
                                                <header class="mb-2">
                                                    <a href="{{ item.path }}">
                                                        <h3 class="h3 mb-1">{{ item.link_text }}</h3>
                                                    </a>
                                                    <div class="text-sm">{{ item.settings.description }}</div>
                                                </header>
                                            </div>
                                            <!-- Rating and price -->
                                            <div class="flex flex-wrap justify-between items-center">
                                                <!-- Rating -->
                                                <div class="flex items-center space-x-2 mr-2">
                                                    <!-- Stars -->
                                                    <div class="flex space-x-1">
                                                        <button>
                                                            <span class="sr-only">1 star</span>
                                                            <svg class="fill-current text-yellow-500" width="16" height="16"
                                                                viewBox="0 0 16 16">
                                                                <path
                                                                    d="M10 5.934L8 0 6 5.934H0l4.89 3.954L2.968 16 8 12.223 13.032 16 11.11 9.888 16 5.934z">
                                                                </path>
                                                            </svg>
                                                        </button>
                                                        <button>
                                                            <span class="sr-only">2 stars</span>
                                                            <svg class="fill-current text-yellow-500" width="16" height="16"
                                                                viewBox="0 0 16 16">
                                                                <path
                                                                    d="M10 5.934L8 0 6 5.934H0l4.89 3.954L2.968 16 8 12.223 13.032 16 11.11 9.888 16 5.934z">
                                                                </path>
                                                            </svg>
                                                        </button>
                                                        <button>
                                                            <span class="sr-only">3 stars</span>
                                                            <svg class="fill-current text-yellow-500" width="16" height="16"
                                                                viewBox="0 0 16 16">
                                                                <path
                                                                    d="M10 5.934L8 0 6 5.934H0l4.89 3.954L2.968 16 8 12.223 13.032 16 11.11 9.888 16 5.934z">
                                                                </path>
                                                            </svg>
                                                        </button>
                                                        <button>
                                                            <span class="sr-only">4 stars</span>
                                                            <svg class="fill-current text-yellow-500" width="16" height="16"
                                                                viewBox="0 0 16 16">
                                                                <path
                                                                    d="M10 5.934L8 0 6 5.934H0l4.89 3.954L2.968 16 8 12.223 13.032 16 11.11 9.888 16 5.934z">
                                                                </path>
                                                            </svg>
                                                        </button>
                                                        <button>
                                                            <span class="sr-only">5 stars</span>
                                                            <svg class="fill-current text-gray-300 dark:text-gray-600"
                                                                width="16" height="16" viewBox="0 0 16 16">
                                                                <path
                                                                    d="M10 5.934L8 0 6 5.934H0l4.89 3.954L2.968 16 8 12.223 13.032 16 11.11 9.888 16 5.934z">
                                                                </path>
                                                            </svg>
                                                        </button>
                                                    </div>
                                                    <!-- Rate -->
                                                    <div class="inline-flex text-sm font-medium text-yellow-600">{{ item.settings.rate }}</div>
                                                </div>
                                                <!-- Price -->
                                                <div>
                                                    <div
                                                        class="inline-flex text-sm font-medium bg-red-500/20 text-red-700 rounded-full text-center px-2 py-0.5">
                                                        {{ item.settings.price }}</div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                {% if forloop.index == 6 %}
                                    {% render 'cta_one' %}
                                {% endif %}
                            {% endfor %}



                        </div>
                    </div>
                    <!-- Pagination -->
                    <div class="mt-6">
                        <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between">
                            {% render 'paginate', paginate: paginate %}
                        </div>
                    </div>
                    {% endpaginate_tag %}

                </div>

            </div>

        </div>
    </main>
{% endif %}

{% schema %}
{
    "name": "Products",
    "description": "产品/项目/案例栏目",
    "thumb_url": "images/theme/products.png",
    "sub_page_templates": ["products", "product"],
    "settings": [
        {
            "id": "description",
            "type": "textarea",
            "label": "描述"
        },
        {
            "id": "tags",
            "type": "tag_picker",
            "multiple": true,
            "label": "标签"
        },
        {
            "id": "thumb_image_url",
            "type": "image_picker",
            "ratio": "4:1",
            "width": 640,
            "label": "主页封面"
        },
        {
            "id": "icon",
            "type": "image_picker",
            "ratio": "1:1",
            "width": 100,
            "label": "图标"
        }
    ]
}
{% endschema %}
